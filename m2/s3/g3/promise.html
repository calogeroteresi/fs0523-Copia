<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script>

        //solo caso di successo
        let p = new Promise((successo)=>{

            successo('Dato 1');

        });

        p.then(res => console.log(res))


        //possibile insuccesso

        let p2 = new Promise((successo, insuccesso)=>{

            let psw = 'password';
            if(psw == 'passwordf'){
                successo('Ok');
            }else{
                insuccesso('Errore');
            }

        });

        p2.then(
            res => console.log(res),
            res => console.log(res)
        )
        
        //simulazione di attesa
        let p3 = new Promise((success)=>{

            //simulo l'attesa del caricamento con un setTimeout
           setTimeout(()=>{
            success(3);
           },5000)

        });

        p3.then(res => console.log(res));


        //utilizzo di catch()

        let p4 = new Promise((successo, insuccesso)=>{

                    let psw = 'password';
                    if(psw == 'passwordf'){
                        successo('Ok');
                    }else{
                        insuccesso('Errore');
                    }

                });

        p4.then(res => console.log(res))
        .catch(res => {
            throw new Error(res)
        })
        
        
        //then concatenati

        let p5 = new Promise((successo)=>{
                        successo('Ok');
                });

        p5.then(res => {
            console.log(res);
            return 'Ciao';
        })
        .then(res => console.log(res))

    </script>
</body>
</html>